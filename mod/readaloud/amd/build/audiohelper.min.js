define(["jquery","core/log","mod_readaloud/cloudpoodllloader"],function(a,b,c){"use strict";return b.debug("Readaloud helper: initialising"),{status:"stopped",init:function(a,b,d,e){var f=this;c.init(a.recorderid,function(a){switch(console.log(a),a.type){case"recording":"started"===a.action?(f.startbuttonclick(),b(a)):"stopped"===a.action&&(f.stopbuttonclick(),d(a));break;case"awaitingprocessing":"posted"!=f.status&&e(a),f.status="posted"}})},stopbuttonclick:function(){this.status="stopped"},startbuttonclick:function(){this.status="started"}}});